<!doctype html>
<html lang="zh">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>TensorFlowæ¡†æ¶ // Yaku Makki</title>
    <link rel="shortcut icon" href="./avatar.jpg" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.151.2">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Yaku Makki" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.422840b4454cb211f5b3dab61f082cdff508e88825173c31806835cb75529734.css" />
    <link rel="alternate" type="application/rss+xml" href="http://localhost:1313/wiki/deep_learning/tensorflow/index.xml" title="Yaku Makki">
    

    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="TensorFlowæ¡†æ¶">
  <meta name="twitter:description" content="TensorFlowæ¡†æ¶ TensorFlowæ˜¯Googleå¼€å‘çš„å¼€æºæœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œä»¥å…¶å¼ºå¤§çš„è®¡ç®—å›¾ã€çµæ´»çš„APIå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿè€Œé—»åã€‚æœ¬ç« ç³»ç»Ÿä»‹ç»TensorFlowçš„æ ¸å¿ƒæ¦‚å¿µã€APIè®¾è®¡å’Œå®é™…åº”ç”¨ã€‚
ğŸ¯ TensorFlowæ¦‚è¿° å‘å±•å†å² 2015å¹´ï¼šTensorFlow 1.0å‘å¸ƒï¼ŒåŸºäºTheanoå’ŒCaffe 2019å¹´ï¼šTensorFlow 2.0å‘å¸ƒï¼Œå¼ºè°ƒæ˜“ç”¨æ€§å’ŒEager Execution 2022å¹´ï¼šTensorFlow 2.8&#43;ï¼Œé›†æˆKerasä½œä¸ºé«˜çº§API æ ¸å¿ƒç‰¹æ€§ è®¡ç®—å›¾ï¼šé™æ€å›¾å’ŒåŠ¨æ€å›¾æ··åˆæ¨¡å¼ è‡ªåŠ¨å¾®åˆ†ï¼šè‡ªåŠ¨è®¡ç®—æ¢¯åº¦ åˆ†å¸ƒå¼è®­ç»ƒï¼šæ”¯æŒå¤šGPUå’ŒTPUè®­ç»ƒ ç”Ÿæ€ç³»ç»Ÿï¼šTensorFlow Extended (TFX)ã€TensorFlow Liteç­‰ ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µ å¼ é‡ (Tensor) TensorFlowä¸­çš„åŸºæœ¬æ•°æ®ç»“æ„ï¼š
import tensorflow as tf # æ ‡é‡ scalar = tf.constant(3.14) # å‘é‡ vector = tf.constant([1, 2, 3]) # çŸ©é˜µ matrix = tf.constant([[1, 2], [3, 4]]) # ä¸‰ç»´å¼ é‡ tensor_3d = tf.constant([[[1, 2], [3, 4]], [[5, 6], [7, 8]]]) print(f&#34;æ ‡é‡å½¢çŠ¶: {scalar.shape}&#34;) print(f&#34;å‘é‡å½¢çŠ¶: {vector.shape}&#34;) print(f&#34;çŸ©é˜µå½¢çŠ¶: {matrix.shape}&#34;) print(f&#34;ä¸‰ç»´å¼ é‡å½¢çŠ¶: {tensor_3d.shape}&#34;) è®¡ç®—å›¾ (Computation Graph) TensorFlow 1.xçš„æ ¸å¿ƒæ¦‚å¿µï¼š
# TensorFlow 1.x é£æ ¼ import tensorflow as tf # æ„å»ºè®¡ç®—å›¾ a = tf.placeholder(tf.float32, name=&#39;a&#39;) b = tf.placeholder(tf.float32, name=&#39;b&#39;) c = tf.add(a, b, name=&#39;add&#39;) # æ‰§è¡Œè®¡ç®—å›¾ with tf.Session() as sess: result = sess.run(c, feed_dict={a: 2.0, b: 3.0}) print(f&#34;2 &#43; 3 = {result}&#34;) Eager Execution TensorFlow 2.xçš„é»˜è®¤æ¨¡å¼ï¼š">

    <meta property="og:url" content="http://localhost:1313/wiki/deep_learning/tensorflow/">
  <meta property="og:site_name" content="Yaku Makki">
  <meta property="og:title" content="TensorFlowæ¡†æ¶">
  <meta property="og:description" content="TensorFlowæ¡†æ¶ TensorFlowæ˜¯Googleå¼€å‘çš„å¼€æºæœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œä»¥å…¶å¼ºå¤§çš„è®¡ç®—å›¾ã€çµæ´»çš„APIå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿè€Œé—»åã€‚æœ¬ç« ç³»ç»Ÿä»‹ç»TensorFlowçš„æ ¸å¿ƒæ¦‚å¿µã€APIè®¾è®¡å’Œå®é™…åº”ç”¨ã€‚
ğŸ¯ TensorFlowæ¦‚è¿° å‘å±•å†å² 2015å¹´ï¼šTensorFlow 1.0å‘å¸ƒï¼ŒåŸºäºTheanoå’ŒCaffe 2019å¹´ï¼šTensorFlow 2.0å‘å¸ƒï¼Œå¼ºè°ƒæ˜“ç”¨æ€§å’ŒEager Execution 2022å¹´ï¼šTensorFlow 2.8&#43;ï¼Œé›†æˆKerasä½œä¸ºé«˜çº§API æ ¸å¿ƒç‰¹æ€§ è®¡ç®—å›¾ï¼šé™æ€å›¾å’ŒåŠ¨æ€å›¾æ··åˆæ¨¡å¼ è‡ªåŠ¨å¾®åˆ†ï¼šè‡ªåŠ¨è®¡ç®—æ¢¯åº¦ åˆ†å¸ƒå¼è®­ç»ƒï¼šæ”¯æŒå¤šGPUå’ŒTPUè®­ç»ƒ ç”Ÿæ€ç³»ç»Ÿï¼šTensorFlow Extended (TFX)ã€TensorFlow Liteç­‰ ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µ å¼ é‡ (Tensor) TensorFlowä¸­çš„åŸºæœ¬æ•°æ®ç»“æ„ï¼š
import tensorflow as tf # æ ‡é‡ scalar = tf.constant(3.14) # å‘é‡ vector = tf.constant([1, 2, 3]) # çŸ©é˜µ matrix = tf.constant([[1, 2], [3, 4]]) # ä¸‰ç»´å¼ é‡ tensor_3d = tf.constant([[[1, 2], [3, 4]], [[5, 6], [7, 8]]]) print(f&#34;æ ‡é‡å½¢çŠ¶: {scalar.shape}&#34;) print(f&#34;å‘é‡å½¢çŠ¶: {vector.shape}&#34;) print(f&#34;çŸ©é˜µå½¢çŠ¶: {matrix.shape}&#34;) print(f&#34;ä¸‰ç»´å¼ é‡å½¢çŠ¶: {tensor_3d.shape}&#34;) è®¡ç®—å›¾ (Computation Graph) TensorFlow 1.xçš„æ ¸å¿ƒæ¦‚å¿µï¼š
# TensorFlow 1.x é£æ ¼ import tensorflow as tf # æ„å»ºè®¡ç®—å›¾ a = tf.placeholder(tf.float32, name=&#39;a&#39;) b = tf.placeholder(tf.float32, name=&#39;b&#39;) c = tf.add(a, b, name=&#39;add&#39;) # æ‰§è¡Œè®¡ç®—å›¾ with tf.Session() as sess: result = sess.run(c, feed_dict={a: 2.0, b: 3.0}) print(f&#34;2 &#43; 3 = {result}&#34;) Eager Execution TensorFlow 2.xçš„é»˜è®¤æ¨¡å¼ï¼š">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="website">


  </head>
  <body class="synthwave-bg">
    <header class="app-header glass-morphism neon-border">
      <a href="/"><img class="app-header-avatar" src="/avatar.jpg" alt="Yaku Makki" /></a>
      <span class="app-header-title gradient-text">Yaku Makki</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">é¦–é¡µ</a>
             | 
          
          <a class="app-header-menu-item" href="/post/">åšå®¢</a>
             | 
          
          <a class="app-header-menu-item" href="/wiki/">ç»´åŸº</a>
             | 
          
          <a class="app-header-menu-item" href="/tags/">æ ‡ç­¾</a>
             | 
          
          <a class="app-header-menu-item" href="/about/">å…³äº</a>
      </nav>
      <p>ä¸ªäººå°å·¢</p>
      <div class="app-header-social">
        
          <a href="https://github.com/makkichan947" target="_blank" rel="noreferrer noopener me" class="pulse-glow">
            <svg class="icon icon-brand-github" viewBox="0 0 24 24" fill="currentColor"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
          </a>
        
          <a href="mailto:yakumakki947@hotmail.com" target="_blank" rel="noreferrer noopener me" class="pulse-glow">
            <svg class="icon icon-mail" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>mail</title><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
          </a>
        
          <a href="https://x.com/Makki_Yaku947" target="_blank" rel="noreferrer noopener me" class="pulse-glow">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-link">
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg>
          </a>
        
          <a href="https://www.twitch.tv/u/makkichan947" target="_blank" rel="noreferrer noopener me" class="pulse-glow">
            <svg class="icon icon-brand-twitch" viewBox="0 0 24 24" fill="currentColor"><title>Twitch</title><path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/></svg>
          </a>
        
      </div>
    </header>
    <main class="app-container glass-morphism glow-effect">
      <div class="floating-particles">
        <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
        <div class="particle" style="left: 20%; animation-delay: 1s;"></div>
        <div class="particle" style="left: 30%; animation-delay: 2s;"></div>
        <div class="particle" style="left: 40%; animation-delay: 3s;"></div>
        <div class="particle" style="left: 50%; animation-delay: 4s;"></div>
        <div class="particle" style="left: 60%; animation-delay: 5s;"></div>
        <div class="particle" style="left: 70%; animation-delay: 6s;"></div>
        <div class="particle" style="left: 80%; animation-delay: 7s;"></div>
        <div class="particle" style="left: 90%; animation-delay: 8s;"></div>
      </div>
      
  <article class="enhanced-card glow-effect">
    <h1 class="gradient-text">TensorFlowæ¡†æ¶</h1>
    <div class="post-content"><h1 id="tensorflowæ¡†æ¶">TensorFlowæ¡†æ¶</h1>
<p>TensorFlowæ˜¯Googleå¼€å‘çš„å¼€æºæœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œä»¥å…¶å¼ºå¤§çš„è®¡ç®—å›¾ã€çµæ´»çš„APIå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿè€Œé—»åã€‚æœ¬ç« ç³»ç»Ÿä»‹ç»TensorFlowçš„æ ¸å¿ƒæ¦‚å¿µã€APIè®¾è®¡å’Œå®é™…åº”ç”¨ã€‚</p>
<h2 id="-tensorflowæ¦‚è¿°">ğŸ¯ TensorFlowæ¦‚è¿°</h2>
<h3 id="å‘å±•å†å²">å‘å±•å†å²</h3>
<ul>
<li><strong>2015å¹´</strong>ï¼šTensorFlow 1.0å‘å¸ƒï¼ŒåŸºäºTheanoå’ŒCaffe</li>
<li><strong>2019å¹´</strong>ï¼šTensorFlow 2.0å‘å¸ƒï¼Œå¼ºè°ƒæ˜“ç”¨æ€§å’ŒEager Execution</li>
<li><strong>2022å¹´</strong>ï¼šTensorFlow 2.8+ï¼Œé›†æˆKerasä½œä¸ºé«˜çº§API</li>
</ul>
<h3 id="æ ¸å¿ƒç‰¹æ€§">æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>è®¡ç®—å›¾</strong>ï¼šé™æ€å›¾å’ŒåŠ¨æ€å›¾æ··åˆæ¨¡å¼</li>
<li><strong>è‡ªåŠ¨å¾®åˆ†</strong>ï¼šè‡ªåŠ¨è®¡ç®—æ¢¯åº¦</li>
<li><strong>åˆ†å¸ƒå¼è®­ç»ƒ</strong>ï¼šæ”¯æŒå¤šGPUå’ŒTPUè®­ç»ƒ</li>
<li><strong>ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šTensorFlow Extended (TFX)ã€TensorFlow Liteç­‰</li>
</ul>
<h2 id="-æ ¸å¿ƒæ¦‚å¿µ">ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 id="å¼ é‡-tensor">å¼ é‡ (Tensor)</h3>
<p>TensorFlowä¸­çš„åŸºæœ¬æ•°æ®ç»“æ„ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> tensorflow <span style="color:#66d9ef">as</span> tf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ ‡é‡</span>
</span></span><span style="display:flex;"><span>scalar <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant(<span style="color:#ae81ff">3.14</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å‘é‡</span>
</span></span><span style="display:flex;"><span>vector <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># çŸ©é˜µ</span>
</span></span><span style="display:flex;"><span>matrix <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä¸‰ç»´å¼ é‡</span>
</span></span><span style="display:flex;"><span>tensor_3d <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant([[[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]], [[<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>], [<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>]]])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;æ ‡é‡å½¢çŠ¶: </span><span style="color:#e6db74">{</span>scalar<span style="color:#f92672">.</span>shape<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;å‘é‡å½¢çŠ¶: </span><span style="color:#e6db74">{</span>vector<span style="color:#f92672">.</span>shape<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;çŸ©é˜µå½¢çŠ¶: </span><span style="color:#e6db74">{</span>matrix<span style="color:#f92672">.</span>shape<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;ä¸‰ç»´å¼ é‡å½¢çŠ¶: </span><span style="color:#e6db74">{</span>tensor_3d<span style="color:#f92672">.</span>shape<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h3 id="è®¡ç®—å›¾-computation-graph">è®¡ç®—å›¾ (Computation Graph)</h3>
<p>TensorFlow 1.xçš„æ ¸å¿ƒæ¦‚å¿µï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># TensorFlow 1.x é£æ ¼</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> tensorflow <span style="color:#66d9ef">as</span> tf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ„å»ºè®¡ç®—å›¾</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>placeholder(tf<span style="color:#f92672">.</span>float32, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>placeholder(tf<span style="color:#f92672">.</span>float32, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;b&#39;</span>)
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>add(a, b, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;add&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰§è¡Œè®¡ç®—å›¾</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> tf<span style="color:#f92672">.</span>Session() <span style="color:#66d9ef">as</span> sess:
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> sess<span style="color:#f92672">.</span>run(c, feed_dict<span style="color:#f92672">=</span>{a: <span style="color:#ae81ff">2.0</span>, b: <span style="color:#ae81ff">3.0</span>})
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;2 + 3 = </span><span style="color:#e6db74">{</span>result<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h3 id="eager-execution">Eager Execution</h3>
<p>TensorFlow 2.xçš„é»˜è®¤æ¨¡å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> tensorflow <span style="color:#66d9ef">as</span> tf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¯ç”¨Eager Executionï¼ˆTensorFlow 2.xé»˜è®¤å¯ç”¨ï¼‰</span>
</span></span><span style="display:flex;"><span>tf<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>run_functions_eagerly(<span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç«‹å³æ‰§è¡Œæ¨¡å¼</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant([<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>])
</span></span><span style="display:flex;"><span>z <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y  <span style="color:#75715e"># ç«‹å³æ‰§è¡Œ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;x + y = </span><span style="color:#e6db74">{</span>z<span style="color:#f92672">.</span>numpy()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h2 id="-tensorflow-2x-api">ğŸš€ TensorFlow 2.x API</h2>
<h3 id="kerasé«˜çº§api">Kerasé«˜çº§API</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> tensorflow <span style="color:#66d9ef">as</span> tf
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> tensorflow <span style="color:#f92672">import</span> keras
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ„å»ºæ¨¡å‹</span>
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> keras<span style="color:#f92672">.</span>Sequential([
</span></span><span style="display:flex;"><span>    keras<span style="color:#f92672">.</span>layers<span style="color:#f92672">.</span>Dense(<span style="color:#ae81ff">128</span>, activation<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;relu&#39;</span>, input_shape<span style="color:#f92672">=</span>(<span style="color:#ae81ff">784</span>,)),
</span></span><span style="display:flex;"><span>    keras<span style="color:#f92672">.</span>layers<span style="color:#f92672">.</span>Dropout(<span style="color:#ae81ff">0.2</span>),
</span></span><span style="display:flex;"><span>    keras<span style="color:#f92672">.</span>layers<span style="color:#f92672">.</span>Dense(<span style="color:#ae81ff">64</span>, activation<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;relu&#39;</span>),
</span></span><span style="display:flex;"><span>    keras<span style="color:#f92672">.</span>layers<span style="color:#f92672">.</span>Dense(<span style="color:#ae81ff">10</span>, activation<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;softmax&#39;</span>)
</span></span><span style="display:flex;"><span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç¼–è¯‘æ¨¡å‹</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>compile(
</span></span><span style="display:flex;"><span>    optimizer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;adam&#39;</span>,
</span></span><span style="display:flex;"><span>    loss<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;sparse_categorical_crossentropy&#39;</span>,
</span></span><span style="display:flex;"><span>    metrics<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;accuracy&#39;</span>]
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ¨¡å‹æ‘˜è¦</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>summary()
</span></span></code></pre></div><h3 id="è‡ªå®šä¹‰å±‚å’Œæ¨¡å‹">è‡ªå®šä¹‰å±‚å’Œæ¨¡å‹</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomLayer</span>(keras<span style="color:#f92672">.</span>layers<span style="color:#f92672">.</span>Layer):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, units<span style="color:#f92672">=</span><span style="color:#ae81ff">32</span>, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        super(CustomLayer, self)<span style="color:#f92672">.</span><span style="color:#a6e22e">__init__</span>(<span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>units <span style="color:#f92672">=</span> units
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">build</span>(self, input_shape):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>w <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>add_weight(
</span></span><span style="display:flex;"><span>            shape<span style="color:#f92672">=</span>(input_shape[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], self<span style="color:#f92672">.</span>units),
</span></span><span style="display:flex;"><span>            initializer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;random_normal&#39;</span>,
</span></span><span style="display:flex;"><span>            trainable<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>b <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>add_weight(
</span></span><span style="display:flex;"><span>            shape<span style="color:#f92672">=</span>(self<span style="color:#f92672">.</span>units,),
</span></span><span style="display:flex;"><span>            initializer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;zeros&#39;</span>,
</span></span><span style="display:flex;"><span>            trainable<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">call</span>(self, inputs):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> tf<span style="color:#f92672">.</span>nn<span style="color:#f92672">.</span>relu(tf<span style="color:#f92672">.</span>matmul(inputs, self<span style="color:#f92672">.</span>w) <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨è‡ªå®šä¹‰å±‚</span>
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> keras<span style="color:#f92672">.</span>Sequential([
</span></span><span style="display:flex;"><span>    CustomLayer(<span style="color:#ae81ff">128</span>),
</span></span><span style="display:flex;"><span>    keras<span style="color:#f92672">.</span>layers<span style="color:#f92672">.</span>Dense(<span style="color:#ae81ff">10</span>, activation<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;softmax&#39;</span>)
</span></span><span style="display:flex;"><span>])
</span></span></code></pre></div><h3 id="è‡ªå®šä¹‰è®­ç»ƒå¾ªç¯">è‡ªå®šä¹‰è®­ç»ƒå¾ªç¯</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># è‡ªå®šä¹‰è®­ç»ƒå¾ªç¯</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">train_model</span>(model, dataset, epochs<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>):
</span></span><span style="display:flex;"><span>    optimizer <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>optimizers<span style="color:#f92672">.</span>Adam()
</span></span><span style="display:flex;"><span>    loss_fn <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>losses<span style="color:#f92672">.</span>SparseCategoricalCrossentropy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> epoch <span style="color:#f92672">in</span> range(epochs):
</span></span><span style="display:flex;"><span>        epoch_loss <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        epoch_accuracy <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> step, (x_batch, y_batch) <span style="color:#f92672">in</span> enumerate(dataset):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">with</span> tf<span style="color:#f92672">.</span>GradientTape() <span style="color:#66d9ef">as</span> tape:
</span></span><span style="display:flex;"><span>                predictions <span style="color:#f92672">=</span> model(x_batch, training<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>                loss <span style="color:#f92672">=</span> loss_fn(y_batch, predictions)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            gradients <span style="color:#f92672">=</span> tape<span style="color:#f92672">.</span>gradient(loss, model<span style="color:#f92672">.</span>trainable_variables)
</span></span><span style="display:flex;"><span>            optimizer<span style="color:#f92672">.</span>apply_gradients(zip(gradients, model<span style="color:#f92672">.</span>trainable_variables))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            epoch_loss <span style="color:#f92672">+=</span> loss<span style="color:#f92672">.</span>numpy()
</span></span><span style="display:flex;"><span>            epoch_accuracy <span style="color:#f92672">+=</span> tf<span style="color:#f92672">.</span>reduce_mean(
</span></span><span style="display:flex;"><span>                tf<span style="color:#f92672">.</span>cast(tf<span style="color:#f92672">.</span>equal(tf<span style="color:#f92672">.</span>argmax(predictions, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>), y_batch), tf<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>            )<span style="color:#f92672">.</span>numpy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Epoch </span><span style="color:#e6db74">{</span>epoch<span style="color:#e6db74">}</span><span style="color:#e6db74">: Loss: </span><span style="color:#e6db74">{</span>epoch_loss<span style="color:#f92672">/</span>(step<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#e6db74">:</span><span style="color:#e6db74">.4f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, &#34;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Accuracy: </span><span style="color:#e6db74">{</span>epoch_accuracy<span style="color:#f92672">/</span>(step<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#e6db74">:</span><span style="color:#e6db74">.4f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h2 id="-æ•°æ®å¤„ç†">ğŸ“Š æ•°æ®å¤„ç†</h2>
<h3 id="tfdata-api">tf.data API</h3>
<p>é«˜æ•ˆçš„æ•°æ®åŠ è½½å’Œé¢„å¤„ç†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> tensorflow <span style="color:#66d9ef">as</span> tf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ›å»ºæ•°æ®é›†</span>
</span></span><span style="display:flex;"><span>dataset <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>data<span style="color:#f92672">.</span>Dataset<span style="color:#f92672">.</span>from_tensor_slices((x_train, y_train))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ•°æ®é¢„å¤„ç†</span>
</span></span><span style="display:flex;"><span>dataset <span style="color:#f92672">=</span> dataset<span style="color:#f92672">.</span>map(<span style="color:#66d9ef">lambda</span> x, y: (preprocess_image(x), y))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰¹å¤„ç†å’Œæ‰“ä¹±</span>
</span></span><span style="display:flex;"><span>dataset <span style="color:#f92672">=</span> dataset<span style="color:#f92672">.</span>shuffle(buffer_size<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>dataset <span style="color:#f92672">=</span> dataset<span style="color:#f92672">.</span>batch(batch_size<span style="color:#f92672">=</span><span style="color:#ae81ff">32</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># é¢„å–æ•°æ®</span>
</span></span><span style="display:flex;"><span>dataset <span style="color:#f92672">=</span> dataset<span style="color:#f92672">.</span>prefetch(buffer_size<span style="color:#f92672">=</span>tf<span style="color:#f92672">.</span>data<span style="color:#f92672">.</span>AUTOTUNE)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è®­ç»ƒå¾ªç¯</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> batch <span style="color:#f92672">in</span> dataset:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è®­ç»ƒæ­¥éª¤</span>
</span></span><span style="display:flex;"><span>    train_step(batch)
</span></span></code></pre></div><h3 id="æ•°æ®å¢å¼º">æ•°æ®å¢å¼º</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> tensorflow.keras.preprocessing.image <span style="color:#f92672">import</span> ImageDataGenerator
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å›¾åƒæ•°æ®å¢å¼º</span>
</span></span><span style="display:flex;"><span>datagen <span style="color:#f92672">=</span> ImageDataGenerator(
</span></span><span style="display:flex;"><span>    rotation_range<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>,
</span></span><span style="display:flex;"><span>    width_shift_range<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>,
</span></span><span style="display:flex;"><span>    height_shift_range<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>,
</span></span><span style="display:flex;"><span>    shear_range<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>,
</span></span><span style="display:flex;"><span>    zoom_range<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>,
</span></span><span style="display:flex;"><span>    horizontal_flip<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>    fill_mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;nearest&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åº”ç”¨æ•°æ®å¢å¼º</span>
</span></span><span style="display:flex;"><span>datagen<span style="color:#f92672">.</span>fit(x_train)
</span></span></code></pre></div><h2 id="-æ¨¡å‹è®­ç»ƒ">ğŸ¯ æ¨¡å‹è®­ç»ƒ</h2>
<h3 id="å†…ç½®è®­ç»ƒå¾ªç¯">å†…ç½®è®­ç»ƒå¾ªç¯</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨model.fitè¿›è¡Œè®­ç»ƒ</span>
</span></span><span style="display:flex;"><span>history <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>fit(
</span></span><span style="display:flex;"><span>    x_train, y_train,
</span></span><span style="display:flex;"><span>    batch_size<span style="color:#f92672">=</span><span style="color:#ae81ff">32</span>,
</span></span><span style="display:flex;"><span>    epochs<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>    validation_data<span style="color:#f92672">=</span>(x_val, y_val),
</span></span><span style="display:flex;"><span>    callbacks<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>        tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>callbacks<span style="color:#f92672">.</span>EarlyStopping(patience<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>),
</span></span><span style="display:flex;"><span>        tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>callbacks<span style="color:#f92672">.</span>ModelCheckpoint(<span style="color:#e6db74">&#39;best_model.h5&#39;</span>, save_best_only<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>),
</span></span><span style="display:flex;"><span>        tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>callbacks<span style="color:#f92672">.</span>TensorBoard(log_dir<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;./logs&#39;</span>)
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><h3 id="å›è°ƒå‡½æ•°">å›è°ƒå‡½æ•°</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># è‡ªå®šä¹‰å›è°ƒå‡½æ•°</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomCallback</span>(tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>callbacks<span style="color:#f92672">.</span>Callback):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">on_epoch_end</span>(self, epoch, logs<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> logs[<span style="color:#e6db74">&#39;val_accuracy&#39;</span>] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.95</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">è¾¾åˆ°ç›®æ ‡å‡†ç¡®ç‡ </span><span style="color:#e6db74">{</span>logs[<span style="color:#e6db74">&#39;val_accuracy&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.4f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼Œåœæ­¢è®­ç»ƒ&#34;</span>)
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>model<span style="color:#f92672">.</span>stop_training <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨è‡ªå®šä¹‰å›è°ƒ</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>fit(x_train, y_train, callbacks<span style="color:#f92672">=</span>[CustomCallback()])
</span></span></code></pre></div><h2 id="-æ¨¡å‹ä¿å­˜å’ŒåŠ è½½">ğŸ”§ æ¨¡å‹ä¿å­˜å’ŒåŠ è½½</h2>
<h3 id="ä¿å­˜å®Œæ•´æ¨¡å‹">ä¿å­˜å®Œæ•´æ¨¡å‹</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ä¿å­˜æ¨¡å‹</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;my_model.h5&#39;</span>)
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;my_model&#39;</span>)  <span style="color:#75715e"># TensorFlow 2.xæ ¼å¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åŠ è½½æ¨¡å‹</span>
</span></span><span style="display:flex;"><span>loaded_model <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>models<span style="color:#f92672">.</span>load_model(<span style="color:#e6db74">&#39;my_model.h5&#39;</span>)
</span></span><span style="display:flex;"><span>loaded_model <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>models<span style="color:#f92672">.</span>load_model(<span style="color:#e6db74">&#39;my_model&#39;</span>)
</span></span></code></pre></div><h3 id="ä¿å­˜æ¨¡å‹æƒé‡">ä¿å­˜æ¨¡å‹æƒé‡</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ä¿å­˜æƒé‡</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>save_weights(<span style="color:#e6db74">&#39;model_weights.h5&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åŠ è½½æƒé‡</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>load_weights(<span style="color:#e6db74">&#39;model_weights.h5&#39;</span>)
</span></span></code></pre></div><h3 id="ä¿å­˜æ¨¡å‹æ¶æ„">ä¿å­˜æ¨¡å‹æ¶æ„</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ä¿å­˜æ¶æ„ä¸ºJSON</span>
</span></span><span style="display:flex;"><span>model_json <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>to_json()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;model.json&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> json_file:
</span></span><span style="display:flex;"><span>    json_file<span style="color:#f92672">.</span>write(model_json)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä»JSONåŠ è½½æ¶æ„</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> tensorflow.keras.models <span style="color:#f92672">import</span> model_from_json
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;model.json&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> json_file:
</span></span><span style="display:flex;"><span>    loaded_model_json <span style="color:#f92672">=</span> json_file<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>loaded_model <span style="color:#f92672">=</span> model_from_json(loaded_model_json)
</span></span></code></pre></div><h2 id="-æ€§èƒ½ä¼˜åŒ–">ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–</h2>
<h3 id="gpuåŠ é€Ÿ">GPUåŠ é€Ÿ</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># æ£€æŸ¥GPUå¯ç”¨æ€§</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;GPUå¯ç”¨:&#34;</span>, tf<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>list_physical_devices(<span style="color:#e6db74">&#39;GPU&#39;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è®¾ç½®GPUå†…å­˜å¢é•¿</span>
</span></span><span style="display:flex;"><span>gpus <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>experimental<span style="color:#f92672">.</span>list_physical_devices(<span style="color:#e6db74">&#39;GPU&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> gpus:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> gpu <span style="color:#f92672">in</span> gpus:
</span></span><span style="display:flex;"><span>            tf<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>experimental<span style="color:#f92672">.</span>set_memory_growth(gpu, <span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">RuntimeError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(e)
</span></span></code></pre></div><h3 id="æ··åˆç²¾åº¦è®­ç»ƒ">æ··åˆç²¾åº¦è®­ç»ƒ</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> tensorflow.keras.mixed_precision <span style="color:#f92672">import</span> experimental <span style="color:#66d9ef">as</span> mixed_precision
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¯ç”¨æ··åˆç²¾åº¦</span>
</span></span><span style="display:flex;"><span>policy <span style="color:#f92672">=</span> mixed_precision<span style="color:#f92672">.</span>Policy(<span style="color:#e6db74">&#39;mixed_float16&#39;</span>)
</span></span><span style="display:flex;"><span>mixed_precision<span style="color:#f92672">.</span>set_policy(policy)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ„å»ºæ¨¡å‹ï¼ˆè‡ªåŠ¨ä½¿ç”¨æ··åˆç²¾åº¦ï¼‰</span>
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>Sequential([<span style="color:#f92672">...</span>])
</span></span></code></pre></div><h3 id="åˆ†å¸ƒå¼è®­ç»ƒ">åˆ†å¸ƒå¼è®­ç»ƒ</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># å¤šGPUè®­ç»ƒ</span>
</span></span><span style="display:flex;"><span>strategy <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>distribute<span style="color:#f92672">.</span>MirroredStrategy()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> strategy<span style="color:#f92672">.</span>scope():
</span></span><span style="display:flex;"><span>    model <span style="color:#f92672">=</span> create_model()
</span></span><span style="display:flex;"><span>    model<span style="color:#f92672">.</span>compile(<span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># TPUè®­ç»ƒ</span>
</span></span><span style="display:flex;"><span>resolver <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>distribute<span style="color:#f92672">.</span>cluster_resolver<span style="color:#f92672">.</span>TPUClusterResolver()
</span></span><span style="display:flex;"><span>tf<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>experimental_connect_to_cluster(resolver)
</span></span><span style="display:flex;"><span>tf<span style="color:#f92672">.</span>tpu<span style="color:#f92672">.</span>experimental<span style="color:#f92672">.</span>initialize_tpu_system(resolver)
</span></span><span style="display:flex;"><span>strategy <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>distribute<span style="color:#f92672">.</span>experimental<span style="color:#f92672">.</span>TPUStrategy(resolver)
</span></span></code></pre></div><h2 id="-é«˜çº§ç‰¹æ€§">ğŸ¨ é«˜çº§ç‰¹æ€§</h2>
<h3 id="è‡ªå®šä¹‰æŸå¤±å‡½æ•°">è‡ªå®šä¹‰æŸå¤±å‡½æ•°</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">custom_loss</span>(y_true, y_pred):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è‡ªå®šä¹‰æŸå¤±è®¡ç®—</span>
</span></span><span style="display:flex;"><span>    mse <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>reduce_mean(tf<span style="color:#f92672">.</span>square(y_true <span style="color:#f92672">-</span> y_pred))
</span></span><span style="display:flex;"><span>    mae <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>reduce_mean(tf<span style="color:#f92672">.</span>abs(y_true <span style="color:#f92672">-</span> y_pred))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> mse <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.1</span> <span style="color:#f92672">*</span> mae
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨è‡ªå®šä¹‰æŸå¤±</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>compile(optimizer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;adam&#39;</span>, loss<span style="color:#f92672">=</span>custom_loss)
</span></span></code></pre></div><h3 id="è‡ªå®šä¹‰æŒ‡æ ‡">è‡ªå®šä¹‰æŒ‡æ ‡</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">F1Score</span>(tf<span style="color:#f92672">.</span>keras<span style="color:#f92672">.</span>metrics<span style="color:#f92672">.</span>Metric):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;f1_score&#39;</span>, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        super(F1Score, self)<span style="color:#f92672">.</span><span style="color:#a6e22e">__init__</span>(name<span style="color:#f92672">=</span>name, <span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>true_positives <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>add_weight(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;tp&#39;</span>, initializer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;zeros&#39;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>false_positives <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>add_weight(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fp&#39;</span>, initializer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;zeros&#39;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>false_negatives <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>add_weight(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fn&#39;</span>, initializer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;zeros&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_state</span>(self, y_true, y_pred, sample_weight<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>        y_pred <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>cast(tf<span style="color:#f92672">.</span>greater(y_pred, <span style="color:#ae81ff">0.5</span>), tf<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>        y_true <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>cast(y_true, tf<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        tp <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>reduce_sum(y_true <span style="color:#f92672">*</span> y_pred)
</span></span><span style="display:flex;"><span>        fp <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>reduce_sum((<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> y_true) <span style="color:#f92672">*</span> y_pred)
</span></span><span style="display:flex;"><span>        fn <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>reduce_sum(y_true <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> y_pred))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>true_positives<span style="color:#f92672">.</span>assign_add(tp)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>false_positives<span style="color:#f92672">.</span>assign_add(fp)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>false_negatives<span style="color:#f92672">.</span>assign_add(fn)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">result</span>(self):
</span></span><span style="display:flex;"><span>        precision <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>true_positives <span style="color:#f92672">/</span> (self<span style="color:#f92672">.</span>true_positives <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>false_positives <span style="color:#f92672">+</span> <span style="color:#ae81ff">1e-15</span>)
</span></span><span style="display:flex;"><span>        recall <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>true_positives <span style="color:#f92672">/</span> (self<span style="color:#f92672">.</span>true_positives <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>false_negatives <span style="color:#f92672">+</span> <span style="color:#ae81ff">1e-15</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> precision <span style="color:#f92672">*</span> recall <span style="color:#f92672">/</span> (precision <span style="color:#f92672">+</span> recall <span style="color:#f92672">+</span> <span style="color:#ae81ff">1e-15</span>)
</span></span></code></pre></div><h2 id="-éƒ¨ç½²å’Œç”Ÿäº§åŒ–">ğŸš€ éƒ¨ç½²å’Œç”Ÿäº§åŒ–</h2>
<h3 id="tensorflow-serving">TensorFlow Serving</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ä¿å­˜æ¨¡å‹ç”¨äºServing</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;model/1&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¯åŠ¨TensorFlow Serving</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tensorflow_model_server --rest_api_port=8501 --model_name=my_model --model_base_path=/path/to/model</span>
</span></span></code></pre></div><h3 id="tensorflow-lite">TensorFlow Lite</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># è½¬æ¢ä¸ºTensorFlow Liteæ ¼å¼</span>
</span></span><span style="display:flex;"><span>converter <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>lite<span style="color:#f92672">.</span>TFLiteConverter<span style="color:#f92672">.</span>from_keras_model(model)
</span></span><span style="display:flex;"><span>tflite_model <span style="color:#f92672">=</span> converter<span style="color:#f92672">.</span>convert()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä¿å­˜æ¨¡å‹</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;model.tflite&#39;</span>, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(tflite_model)
</span></span></code></pre></div><h3 id="tensorflowjs">TensorFlow.js</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># è½¬æ¢ä¸ºTensorFlow.jsæ ¼å¼</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> tensorflowjs <span style="color:#66d9ef">as</span> tfjs
</span></span><span style="display:flex;"><span>tfjs<span style="color:#f92672">.</span>converters<span style="color:#f92672">.</span>save_keras_model(model, <span style="color:#e6db74">&#39;tfjs_model&#39;</span>)
</span></span></code></pre></div><h2 id="-å­¦ä¹ èµ„æº">ğŸ“š å­¦ä¹ èµ„æº</h2>
<h3 id="å®˜æ–¹æ–‡æ¡£">å®˜æ–¹æ–‡æ¡£</h3>
<ul>
<li><a href="https://www.tensorflow.org/">TensorFlowå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://www.tensorflow.org/guide">TensorFlowæŒ‡å—</a></li>
<li><a href="https://www.tensorflow.org/tutorials">TensorFlowæ•™ç¨‹</a></li>
</ul>
<h3 id="å´æ©è¾¾è¯¾ç¨‹">å´æ©è¾¾è¯¾ç¨‹</h3>
<ul>
<li>æ·±åº¦å­¦ä¹ è¯¾ç¨‹ä¸­å…³äºTensorFlowçš„éƒ¨åˆ†</li>
</ul>
<h3 id="ç»å…¸èµ„æº">ç»å…¸èµ„æº</h3>
<ul>
<li><a href="https://github.com/tensorflow/examples">TensorFlowå®˜æ–¹ç¤ºä¾‹</a></li>
<li><a href="https://tfhub.dev/">TensorFlowæ¨¡å‹åº“</a></li>
<li><a href="https://keras.io/">Kerasæ–‡æ¡£</a></li>
</ul>
<h2 id="-æœ€ä½³å®è·µ">ğŸ¯ æœ€ä½³å®è·µ</h2>
<h3 id="ä»£ç ç»„ç»‡">ä»£ç ç»„ç»‡</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># æ¨èçš„é¡¹ç›®ç»“æ„</span>
</span></span><span style="display:flex;"><span>my_project<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> data<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> raw<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> processed<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â””â”€â”€</span> splits<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> models<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> checkpoints<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â””â”€â”€</span> saved_models<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> notebooks<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> src<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> data<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â”œâ”€â”€</span> models<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â”‚</span>   <span style="color:#960050;background-color:#1e0010">â””â”€â”€</span> utils<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â””â”€â”€</span> config<span style="color:#f92672">/</span>
</span></span></code></pre></div><h3 id="æ€§èƒ½ä¼˜åŒ–å»ºè®®">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>ä½¿ç”¨tf.data API</strong>ï¼šé«˜æ•ˆçš„æ•°æ®åŠ è½½</li>
<li><strong>æ‰¹å¤„ç†</strong>ï¼šåˆç†è®¾ç½®æ‰¹å¤§å°</li>
<li><strong>GPUåˆ©ç”¨</strong>ï¼šç›‘æ§GPUä½¿ç”¨ç‡</li>
<li><strong>æ¨¡å‹æ£€æŸ¥ç‚¹</strong>ï¼šå®šæœŸä¿å­˜æ¨¡å‹</li>
<li><strong>è¶…å‚æ•°è°ƒä¼˜</strong>ï¼šä½¿ç”¨TensorBoardå¯è§†åŒ–</li>
</ol>
<h3 id="è°ƒè¯•æŠ€å·§">è°ƒè¯•æŠ€å·§</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># å¯ç”¨è°ƒè¯•æ¨¡å¼</span>
</span></span><span style="display:flex;"><span>tf<span style="color:#f92672">.</span>debugging<span style="color:#f92672">.</span>set_log_device_placement(<span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ£€æŸ¥å¼ é‡å½¢çŠ¶</span>
</span></span><span style="display:flex;"><span>print(x<span style="color:#f92672">.</span>shape)
</span></span><span style="display:flex;"><span>print(y<span style="color:#f92672">.</span>shape)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨tf.printè°ƒè¯•</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>print(x, [x], <span style="color:#e6db74">&#34;xçš„å€¼:&#34;</span>)
</span></span></code></pre></div><hr>
<p><em>æœ€è¿‘æ›´æ–°: {{ .Lastmod.Format &ldquo;2006-01-02&rdquo; }}</em></p>
</div>
    <ul class="posts-list">
      
        <li class="posts-list-item enhanced-card">
          <a class="posts-list-item-title gradient-text" href="/wiki/deep_learning/tensorflow/starter/">TensorFlowåŸºç¡€æ•™ç¨‹</a>
          <span class="posts-list-item-description">
            <svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            Oct 24, 2025
            <span class="posts-list-item-separator">-</span>
            <svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            7 min read
          </span>
        </li>
      
        <li class="posts-list-item enhanced-card">
          <a class="posts-list-item-title gradient-text" href="/wiki/deep_learning/tensorflow/advanced_1/">TensorFlowé«˜çº§ç‰¹æ€§</a>
          <span class="posts-list-item-description">
            <svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            Oct 24, 2025
            <span class="posts-list-item-separator">-</span>
            <svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            7 min read
          </span>
        </li>
      
        <li class="posts-list-item enhanced-card">
          <a class="posts-list-item-title gradient-text" href="/wiki/deep_learning/tensorflow/advanced_2/">TensorFlowé«˜çº§åº”ç”¨</a>
          <span class="posts-list-item-description">
            <svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            Oct 24, 2025
            <span class="posts-list-item-separator">-</span>
            <svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            10 min read
          </span>
        </li>
      
    </ul>
    



    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <div class="busuanzi-container">
      <span id="busuanzi_container_site_pv">--æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡--</span>
      <span id="busuanzi_container_site_uv">--æœ¬ç«™æ€»è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äºº--</span>
    </div>
    
  </article>

    </main>
  </body>
</html>
